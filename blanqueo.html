<!-- (El contenido del <head> se mantiene igual, asÃ­ que lo omitimos aquÃ­) -->

<div class="container">
  <label for="mm-inicial">MM Inicial:</label>
  <input type="number" id="mm-inicial" placeholder="Ingrese MM Inicial">

  <label for="mm-final">MM Final:</label>
  <input type="number" id="mm-final" placeholder="Ingrese MM Final">

  <label for="sacos">Sacos usados (25kg c/u):</label>
  <input type="number" id="sacos" placeholder="Ej: 4" oninput="calcularTierra()">

  <div class="resultado">
    <span id="resultado">Resultado: 0</span>
    <span class="copiar" onclick="copiarTexto()">ðŸ“‹</span>
  </div>

  <div class="resultado">
    <span id="tierra">Consumo de tierra: 0 kg / 0.00 t</span>
  </div>
</div>

<script>
  const mmInicialInput = document.getElementById('mm-inicial');
  const mmFinalInput = document.getElementById('mm-final');
  const sacosInput = document.getElementById('sacos');
  const resultadoSpan = document.getElementById('resultado');
  const tierraSpan = document.getElementById('tierra');

  function calcularResultado() {
    const mmInicial = parseFloat(mmInicialInput.value) || 0;
    const mmFinal = parseFloat(mmFinalInput.value) || 0;
    const diferencia = mmFinal - mmInicial;
    const resultadoFinal = (diferencia * 0.99769).toFixed(2);
    resultadoSpan.innerText = "Resultado: " + resultadoFinal;

    calcularTierra(); // recalcula tierra si cambia MM
  }

  function calcularTierra() {
    const sacos = parseFloat(sacosInput.value) || 0;
    const kg = sacos * 25;
    const toneladas = (kg / 1000).toFixed(2);
    tierraSpan.innerText = `Consumo de tierra: ${kg} kg / ${toneladas} t`;
  }

  mmInicialInput.addEventListener('input', calcularResultado);
  mmFinalInput.addEventListener('input', calcularResultado);

  function copiarTexto() {
    const resultadoTexto = resultadoSpan.innerText.replace("Resultado: ", "");
    navigator.clipboard.writeText(resultadoTexto).then(() => {
      alert("Texto copiado: " + resultadoTexto);
    }).catch(err => {
      console.error('Error al copiar el texto: ', err);
    });
  }
</script>
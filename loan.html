<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Loan Calculator with RoundSlider</title>

  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- roundSlider CSS & JS CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/round-slider@1.6.1/dist/roundslider.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/round-slider@1.6.1/dist/roundslider.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
    }

    h2 {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }

    .roundslider {
      width: 250px;
      height: 250px;
    }

    .value-display {
      margin-top: 20px;
      font-size: 1.2rem;
    }

    .bold {
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h2>Loan Calculator</h2>
  <div id="loanSlider" class="roundslider"></div>
  <div class="value-display">
    Loan Amount: <span class="bold" id="loanAmount">$5000</span><br>
    Estimated Monthly Payment: <span class="bold" id="monthlyPayment">$250</span>
  </div>

  <script>
    function calculateMonthlyPayment(amount, interestRate = 0.05, termMonths = 24) {
      // Simple monthly payment formula
      const monthlyRate = interestRate / 12;
      return ((amount * monthlyRate) / (1 - Math.pow(1 + monthlyRate, -termMonths))).toFixed(2);
    }

    $(function () {
      const minAmount = 1000;
      const maxAmount = 10000;
      const defaultAmount = 5000;

      $("#loanSlider").roundSlider({
        sliderType: "min-range",
        value: defaultAmount,
        min: minAmount,
        max: maxAmount,
        radius: 120,
        width: 16,
        handleSize: "+8",
        circleShape: "pie",
        startAngle: 315,
        editableTooltip: false,
        tooltipFormat: function (args) {
          return "$" + args.value;
        },
        change: updateLoanInfo,
        drag: updateLoanInfo
      });

      function updateLoanInfo(e) {
        const amount = e.value;
        const monthly = calculateMonthlyPayment(amount);
        $("#loanAmount").text(`$${amount}`);
        $("#monthlyPayment").text(`$${monthly}`);
      }

      // Set initial values
      const initialPayment = calculateMonthlyPayment(defaultAmount);
      $("#monthlyPayment").text(`$${initialPayment}`);
    });
  </script>

</body>
</html>
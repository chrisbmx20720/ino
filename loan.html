<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Circular Slider with Thumb</title>
  <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #f0f0f0;
      font-family: sans-serif;
    }

    .circular-slider {
      position: relative;
      width: 300px;
      height: 300px;
    }

    svg {
      width: 100%;
      height: 100%;
    }

    .value-display {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      font-weight: bold;
    }

    .thumb {
      fill: #04AA6D;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="circular-slider">
  <svg viewBox="0 0 300 300">
    <circle cx="150" cy="150" r="100" stroke="#ddd" stroke-width="15" fill="none" />
    <path id="progress" stroke="#04AA6D" stroke-width="15" fill="none"
          stroke-linecap="round" />
    <circle id="thumb" class="thumb" r="12" cx="150" cy="50" />
  </svg>
  <div class="value-display" id="valueDisplay">0</div>
</div>

<script>
  const thumb = document.getElementById('thumb');
  const progress = document.getElementById('progress');
  const display = document.getElementById('valueDisplay');

  const center = { x: 150, y: 150 };
  const radius = 100;

  function polarToCartesian(cx, cy, r, angleDeg) {
    const angleRad = (angleDeg - 90) * Math.PI / 180;
    return {
      x: cx + r * Math.cos(angleRad),
      y: cy + r * Math.sin(angleRad)
    };
  }

  function describeArc(cx, cy, r, endAngle) {
    const start = polarToCartesian(cx, cy, r, 0);
    const end = polarToCartesian(cx, cy, r, endAngle);
    const largeArc = endAngle > 180 ? 1 : 0;

    return `M ${start.x} ${start.y}
            A ${r} ${r} 0 ${largeArc} 1 ${end.x} ${end.y}`;
  }

  function updateSlider(angle) {
    const value = Math.round(angle / 360 * 100);
    display.textContent = value;
    const coords = polarToCartesian(center.x, center.y, radius, angle);
    thumb.setAttribute('cx', coords.x);
    thumb.setAttribute('cy', coords.y);
    progress.setAttribute('d', describeArc(center.x, center.y, radius, angle));
  }

  function getAngle(e) {
    const rect = e.target.getBoundingClientRect();
    const x = e.clientX - rect.left - center.x;
    const y = e.clientY - rect.top - center.y;
    let angle = Math.atan2(y, x) * 180 / Math.PI + 90;
    if (angle < 0) angle += 360;
    return angle;
  }

  function onMouseMove(e) {
    const angle = getAngle(e);
    updateSlider(angle);
  }

  let dragging = false;

  thumb.addEventListener('mousedown', () => dragging = true);
  document.addEventListener('mouseup', () => dragging = false);
  document.addEventListener('mousemove', e => {
    if (dragging) onMouseMove(e);
  });
</script>

</body>
</html>